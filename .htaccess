# Перенаправляем API из корня в WordPress
RewriteEngine On
RewriteBase /

# Если это запрос к API WordPress, перенаправляем на WP
RewriteRule ^wp-json/(.*)$ /wp/index.php?rest_route=/$1 [L,QSA]

# Если запрашивается реальный файл или директория — отдать как есть
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Если нет файла/папки — отдаём index.html (React будет разбираться сам)
RewriteRule ^(.*)$ /index.html [L,QSA]

# BEGIN WordPress
# Директивы (строки) между `BEGIN WordPress` и `END WordPress`
# созданы автоматически и подлежат изменению только через фильтры WordPress.
# Сделанные вручную изменения между этими маркерами будут перезаписаны.

# END WordPress